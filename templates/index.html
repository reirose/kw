{% extends "base.html" %}

{% block title %}–ü–æ–∏—Å–∫{% endblock %}

{% block scripts %}
<script>
            function getQuery() {
                let query = document.getElementById("search_query").value;
                console.log(encodeURI(query));
                return encodeURI(query)
            }
            function redirectToResult(queryURI) {
                window.location.replace("/search?q=" + getQuery())
            }
        </script>
{% endblock %}

{% block body %}
<div class="table-content">
    <div class="search-container">
    <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å..." class="search-input" id="search_query">
    <button type="submit" id="search" class="search-button" onclick="redirectToResult()">
        <span class="search-icon">üîç</span>
        <span class="search-text">–ü–æ–∏—Å–∫</span>
    </button>
    </div>
    <br><br>
    {% if data.status != "error" %}
        <table>
            <tr>
                <th class="keyword">–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞</th>
                <th class="docname">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞</th>
                <th class="lang">–Ø–∑—ã–∫</th>
                <th class="url">–°—Å—ã–ª–∫–∞</th>
            </tr>
            {% for item in data.info %}
                <tr>
                    <td>{{ item.keyword }}</td>
                    <td>{{ item.docname }}</td>
                    <td>{{ item.lang }}</td>
                    <td><a href="{{ item.url }}">–°—Å—ã–ª–∫–∞</a></td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
    <span class="nothing-found-text">–Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</span>
    {% endif %}
</div>
{% endblock %}
